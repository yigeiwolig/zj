<!-- components/custom-toast/index.wxml -->
<view class="ct-mask" wx:if="{{modal.show || loading.show}}" catchtouchmove="preventTouchMove">
  <!-- Modal -->
  <view class="ct-modal" wx:if="{{modal.show}}">
    <view class="ct-modal-title" wx:if="{{modal.title}}">{{modal.title}}</view>
    <view class="ct-modal-content">{{modal.content}}</view>
    <view class="ct-modal-footer">
      <view class="ct-modal-btn cancel" wx:if="{{modal.showCancel}}" bindtap="onCancel" style="color: {{modal.cancelColor}}">{{modal.cancelText}}</view>
      <view class="ct-modal-btn confirm" bindtap="onConfirm" style="color: {{modal.confirmColor}}">{{modal.confirmText}}</view>
    </view>
  </view>

  <!-- Loading -->
  <view class="ct-loading" wx:if="{{loading.show}}">
    <view class="ct-loading-spinner"></view>
    <view class="ct-loading-text" wx:if="{{loading.title}}">{{loading.title}}</view>
  </view>
</view>

<!-- Toast (透明遮罩，允许交互但防止误触) -->
<view class="ct-toast-mask" wx:if="{{toast.show}}" catchtouchmove="preventTouchMove">
  <view class="ct-toast">
    <view class="ct-toast-icon" wx:if="{{toast.icon === 'success'}}">✓</view>
    <view class="ct-toast-icon error" wx:if="{{toast.icon === 'error'}}">✕</view>
    <!-- 加载图标 (当 icon='loading' 时) -->
    <view class="ct-loading-spinner small" wx:if="{{toast.icon === 'loading'}}"></view>
    <view class="ct-toast-text">{{toast.title}}</view>
  </view>
</view>