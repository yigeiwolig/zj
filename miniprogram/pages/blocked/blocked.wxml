<!-- miniprogram/pages/blocked/blocked.wxml -->
<view class="container">
  <view class="center-content">
    <!-- 1. 核心图标区 -->
    <view class="icon-container">
      <!-- 动态旋转的断点圆环 -->
      <view class="spinner-ring"></view>
      <!-- 静态图标：感叹号 (代表系统异常/崩溃) -->
      <view class="error-icon">!</view>
    </view>

    <!-- 2. 文字提示区 -->
    <view class="text-area">
      <view class="title">系统数据异常</view>
      <view class="subtitle">System Data Error</view>
      
      <view class="error-desc">
        <text>检测到关键配置丢失</text>
        <text>为保护数据安全，服务已自动暂停</text>
      </view>
    </view>
  </view>

  <!-- 3. 底部操作区 -->
  <view class="footer">
    <button class="action-btn" hover-class="btn-hover" bindtap="handleCopyWechat">
      联系管理员修复
    </button>
    
    <view class="debug-info">
      <text>Error Code: 0x000000F4_CRITICAL</text>
      <text>Session ID: {{randomSessionId}}</text>
    </view>
  </view>
</view>

<!-- 自定义弹窗组件 (重构版) -->
<view class="custom-modal-mask {{showCopySuccessModal ? 'active' : ''}} {{copySuccessModalClosing ? 'closing' : ''}}" wx:if="{{showCopySuccessModal}}">
  <view class="custom-modal-box copy-success-modal">
    <!-- 动态绘制的勾选图标 -->
    <view class="check-icon">
      <view class="check-line line-tip"></view>
      <view class="check-line line-long"></view>
    </view>
    <view class="modal-title-new">已复制</view>
  </view>
</view>

<view class="custom-modal-mask active {{customSuccessModalClosing ? 'closing' : ''}}" wx:if="{{showCustomSuccessModal}}" catchtouchmove="noop">
  <view class="custom-modal-box success-modal">
    <view class="modal-icon-new success-icon">✓</view>
    <view class="modal-title-new">{{successModalTitle}}</view>
    <view class="modal-content-new" wx:if="{{successModalContent}}">
      <view class="content-main">{{successModalContent}}</view>
    </view>
  </view>
</view>

<custom-toast id="custom-toast" />