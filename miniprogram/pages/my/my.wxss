page { background: #F7F7F7; color: #1D1D1F; }
.container { padding-bottom: 40rpx; }

/* --- 1. 头部 (修改布局：返回键 + 下移文字) --- */
/* --- 头部优化：居中对齐版 --- */
.profile-header { 
  background: #fff; 
  padding: 40rpx 40rpx 40rpx; /* 减小一点底部padding */
  display: flex;
  flex-direction: column; 
  align-items: center; /* 【核心】让所有子元素水平居中 */
}

/* 固定返回按钮 */
.nav-back-fixed {
  position: absolute; top: 80rpx; left: 40rpx; z-index: 100;
  width: 80rpx; height: 80rpx; display: flex; align-items: center;
  justify-content: center;
}
.nav-back-fixed:active {
  opacity: 0.6;
}
.back-arrow {
  font-size: 48rpx;
  font-weight: 300;
  color: #1D1D1F;
  line-height: 1;
}

/* 返回按钮样式（保留兼容） */
.nav-back {
  position: relative;
  width: 60rpx;
  height: 60rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 40rpx;
  z-index: 100;
  cursor: pointer;
}
.nav-back:active {
  opacity: 0.6;
}

/* 包裹原来的头部信息，让它们保持原来的排版，但整体被推下去了 */
.header-content {
  display: block;
}

/* 用户名区域 */
.header-main { 
  display: flex; 
  justify-content: center; /* 水平居中 */
  align-items: center; 
  margin-bottom: 40rpx; /* 减小间距 */
  width: 100%;
}

.user-identity { 
  display: flex; 
  flex-direction: column; 
  align-items: center; /* 文字内部居中 */
}
.rank-tag { font-size: 20rpx; color: #AF9567; letter-spacing: 4rpx; font-weight: 700; display: block; margin-bottom: 12rpx; }
.user-name { font-size: 64rpx; font-weight: 600; letter-spacing: -2rpx; }

/* 数据统计区域 */
.header-stats { 
  display: flex; 
  align-items: center; 
  justify-content: center; /* 整体居中 */
  width: 100%;
}

/* 保持原有统计项样式 */
.stat-item { 
  display: flex; 
  flex-direction: column; 
  align-items: center; /* 文字居中 */
}
.stat-item .label { font-size: 22rpx; color: #8E8E93; margin-bottom: 8rpx; }
.stat-item .value { font-size: 32rpx; font-weight: 600; }
.stat-item .platinum { color: #AF9567; }
.divider-v { width: 1px; height: 40rpx; background: #E5E5E5; margin: 0 60rpx; }


/* --- 管理员头部布局 --- */
.admin-header-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-end; /* 底部对齐 */
  /* 给原来的 padding 改一下，适应新布局 */
  padding: 180rpx 40rpx 20rpx; 
}

/* 标题样式微调 */
.admin-page-title {
  padding: 0 !important; /* 去掉之前的 padding，由父容器控制 */
  font-size: 48rpx;
  font-weight: 800;
  color: #000;
}

/* --- 切换按钮 (高级胶囊风) --- */
.switch-view-btn {
  font-size: 24rpx;
  font-weight: 600;
  color: #0071E3;
  background: rgba(0, 113, 227, 0.1);
  padding: 12rpx 24rpx;
  border-radius: 30rpx;
  transition: all 0.2s;
}
.switch-view-btn.active {
  background: #000;
  color: #fff;
}
.switch-view-btn:active { opacity: 0.7; }

/* --- 空状态提示 --- */
.empty-card {
  height: 100%;
  display: flex; align-items: center; justify-content: center;
  font-size: 32rpx; color: #999; font-weight: 600;
  background: #fff; border-radius: 40rpx; margin: 0 15rpx;
  border: 4rpx dashed #eee;
}

/* --- 历史列表 (竖向) --- */
.history-scroll-view {
  height: calc(100vh - 280rpx); /* 占满剩余空间 */
}
.history-list-container {
  padding: 0 40rpx 60rpx; /* 这里的 padding 替代 margin */
}
.history-item {
  margin: 0 0 30rpx 0 !important; /* 覆盖原来的左右 margin，改为只有下方间距 */
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.05);
}

/* 历史卡片里的微调 */
.buyer-info-box.small {
  padding: 16rpx;
  display: flex; align-items: center;
  font-size: 24rpx; color: #666;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.btn-logistics-action.small {
  margin-top: 0;
  width: auto; /* 不撑满 */
  height: 60rpx !important;
  line-height: 56rpx !important;
  padding: 0 30rpx;
  font-size: 24rpx !important;
}
.end-tip { text-align: center; color: #ccc; font-size: 22rpx; margin-top: 20rpx; }

/* --- 标签 --- */
.section-label { padding: 10rpx 48rpx 12rpx; font-size: 22rpx; font-weight: 700; color: #BBB; letter-spacing: 2rpx; }

/* --- 调试工具 --- */
.debug-tools { display: flex; padding: 20rpx 40rpx; gap: 15rpx; }
.debug-btn { font-size: 20rpx; background: #f0f0f0; padding: 8rpx 15rpx; border-radius: 6rpx; color: #999; }

/* --- 2. 订单区 --- */
/* 1. 【修改】让订单列表高度自适应，不再被截断 */
/* --- 订单列表高度调整 --- */
/* 1. Swiper 容器 */
.order-swiper {
  width: 100%;
  margin-bottom: 20rpx;
  
  /* ⚠️⚠️⚠️【重点检查】⚠️⚠️⚠️ */
  /* 如果你的代码里还有下面这几行，一定要删掉！！！ */
  /* height: 900rpx !important;  <-- 删除 */
  /* height: calc(100vh...);     <-- 删除 */
  /* height: 100%;               <-- 删除 */
  
  /* 这里什么高度都不要写，全靠 JS 的 style 控制 */
}

/* 2. 卡片容器 */
.order-card.detail-mode {
  display: flex; 
  flex-direction: column;
  padding: 30rpx; 
  /* 必须是 auto，才能被内容撑开 */
  height: auto !important; 
  min-height: 200rpx;
  
  /* 加上这个 transition，让高度变化有动画 */
  transition: all 0.3s ease;
  padding-bottom: 60rpx; /* 底部多留点白，防止贴边 */
  background: #fff; 
  /* 【关键】左右留出 15rpx 的缝隙 */
  /* 这样加上 swiper 的露出距离，卡片之间就会有明显的间隔 */
  margin: 0 15rpx !important; 
  border-radius: 40rpx;
  position: relative; border: 1px solid #E5E5E5; box-sizing: border-box;
}
.order-card {
  background: #fff; 
  /* 【关键】左右留出 15rpx 的缝隙 */
  margin: 0 15rpx !important; 
  height: 100%; border-radius: 40rpx; padding: 24rpx 40rpx;
  position: relative; border: 1px solid #E5E5E5; box-sizing: border-box; display: flex; flex-direction: column;
}

/* --- 头部优化 --- */
.card-header {
  display: flex;
  justify-content: space-between; /* 左右贴边 */
  align-items: center;           /* 垂直居中对齐，让状态标签和订单号对齐 */
  margin-bottom: 20rpx;
  padding-bottom: 20rpx;
  border-bottom: 1rpx solid #f5f5f5;
}

.order-id-group {
  display: flex;
  flex-direction: column; /* 垂直排列 */
}
.order-label { font-size: 20rpx; color: #ccc; margin-bottom: 4rpx; }
.order-val { font-size: 24rpx; color: #999; font-family: monospace; }
.order-id-label { font-size: 20rpx; color: #999; margin-bottom: 4rpx; }
.order-id-val { font-size: 28rpx; font-weight: 700; color: #000; }
.order-no { font-size: 24rpx; color: #ccc; font-weight: bold; }
.status-label { font-size: 24rpx; font-weight: bold; color: #007AFF; }
.status-label.signed { color: #34C759; }
.status-label.highlight { color: #FF9500; }

/* ========================================= */
/* 修复右上角标签：最终完美版 (针对 view 标签) */
/* ========================================= */
.status-tag {
  font-size: 22rpx;
  font-weight: 600;
  
  /* 强制 Flex 布局 */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  
  /* 放弃 padding 撑开法，改用固定高度法 (对 view 标签更稳) */
  height: 48rpx !important;
  width: fit-content; /* 宽度自适应 */
  
  /* 左右边距 */
  padding: 0 20rpx !important;
  
  /* 关键：给一点点 padding-bottom 抵消汉字视觉重心 */
  padding-bottom: 2rpx !important;
  
  border-radius: 12rpx;
  margin-left: 20rpx;
}

/* 颜色方案 (保持不变) */
.status-tag.UNPAID { background: #FFF5F5; color: #FF3B30; } 

.status-tag.PAID   { background: #F0F8FF; color: #0071E3; }   

.status-tag.SHIPPED{ background: rgba(52, 199, 89, 0.1); color: #34C759; border: 1rpx solid rgba(52, 199, 89, 0.3); }

.status-tag.SIGNED { background: #F5F5F7; color: #8E8E93; }

.product-title { font-size: 34rpx; font-weight: bold; margin: 10rpx 0 20rpx; color: #1A1A1A; }

.info-row { display: flex; justify-content: space-between; margin-bottom: 12rpx; font-size: 26rpx; }
.info-row text:first-child { color: #8E8E93; }
.info-row .val { color: #1D1D1F; font-weight: 500; font-family: "PingFang SC"; }
.info-row .val.price { font-weight: 700; color: #1D1D1F; font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, sans-serif; }

.copy-wrap { display: flex; align-items: center; }
.copy-tag { font-size: 18rpx; background: #f0f0f0; color: #666; padding: 4rpx 10rpx; border-radius: 4rpx; margin-left: 10rpx; }

/* ========================================= */
/* 2. 修复按钮：加高 + 胶囊形状 */
/* ========================================= */

/* 管理员发货按钮 & 用户查看物流按钮 (通用设置) */
.admin-ship-btn,
.btn-logistics-action,
.logistics-btn {
  margin-top: 30rpx;
  width: 100%; /* 撑满宽度 */
  
  /* 高度加大 */
  height: 100rpx !important;
  line-height: 100rpx !important; /* 确保文字垂直居中 */
  
  border-radius: 50rpx !important; /* 纯圆角胶囊 */
  font-size: 30rpx !important;
  font-weight: 600;
  text-align: center;
  box-sizing: border-box; /* 防止边框撑大 */
}

/* 黑色发货按钮 */
.admin-ship-btn {
  background: #000;
  color: #fff;
  box-shadow: 0 8rpx 20rpx rgba(0,0,0,0.2);
}

/* 白色查看物流按钮 */
.btn-logistics-action,
.logistics-btn {
  background: #fff;
  color: #000;
  border: 2rpx solid #E5E5EA; /* 浅灰边框 */
  line-height: 96rpx !important; /* 减去边框厚度，保持居中 */
}

/* 点击反馈 */
.admin-ship-btn:active,
.btn-logistics-action:active {
  transform: scale(0.98);
  opacity: 0.8;
}

/* 用户信息区 */
.user-detail-box {
  background: #f9f9f9; border-radius: 16rpx; padding: 20rpx; margin: 20rpx 0;
}
.u-info { margin-bottom: 10rpx; }
.u-name { font-size: 32rpx; font-weight: 700; margin-right: 20rpx; }
.u-phone { font-size: 26rpx; color: #666; }
.u-addr { font-size: 24rpx; color: #888; line-height: 1.4; }

/* 买家信息盒 */
.buyer-info-box {
  background: #F2F2F7; border-radius: 20rpx; padding: 24rpx; margin: 20rpx 0;
}
.b-row { display: flex; justify-content: space-between; margin-bottom: 8rpx; }
.b-name { font-size: 30rpx; font-weight: 700; }
.b-phone { font-size: 26rpx; color: #0071E3; font-weight: 600; }
.b-addr { font-size: 24rpx; color: #666; line-height: 1.4; }

/* 商品清单 */
.goods-detail-list { flex: 1; margin: 20rpx 0; }
.section-mini-title { font-size: 20rpx; color: #bbb; letter-spacing: 2rpx; margin-bottom: 15rpx; }
.mini-tag { font-size: 20rpx; color: #bbb; letter-spacing: 2rpx; margin-bottom: 15rpx; }
.g-item { 
  display: flex; align-items: center; padding: 15rpx 0; border-bottom: 1rpx solid #f0f0f0;
}
.g-info { flex: 1; display: flex; flex-direction: column; }
.g-n { font-size: 28rpx; font-weight: 600; }
.g-s { font-size: 20rpx; color: #888; }
.g-count { width: 60rpx; font-size: 24rpx; color: #bbb; }
.g-p { font-size: 28rpx; font-weight: 700; width: 120rpx; text-align: right; }
.g-main { display: flex; flex-direction: column; }
.g-name { font-size: 28rpx; font-weight: 600; }
.g-spec { font-size: 22rpx; color: #0071E3; margin-top: 4rpx; }
.g-side { text-align: right; }
.g-qty { font-size: 24rpx; color: #999; margin-right: 20rpx; }
.g-price { font-size: 26rpx; font-weight: 700; }

/* --- 底部优化 --- */
.card-footer-new {
  margin-top: 20rpx;
  border-top: 1rpx dashed #eee;
  padding-top: 20rpx;
}

.total-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30rpx;
}
.time-text { font-size: 22rpx; color: #ccc; }
.price-box { font-size: 24rpx; color: #333; }
.price-num { font-size: 36rpx; font-weight: 800; margin-left: 10rpx; }

/* 按钮组右对齐 */
.action-row-right {
  display: flex;
  justify-content: flex-end; /* 靠右排布 */
  gap: 20rpx; /* 按钮间距 */
}

/* 小按钮样式 */
.btn-mini {
  padding: 16rpx 34rpx;
  border-radius: 40rpx;
  font-size: 26rpx;
  font-weight: 600;
}
.btn-mini.gray {
  background: #f0f0f0;
  color: #666;
}
.btn-mini.black {
  background: #000;
  color: #fff;
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.2);
}

/* --- 取消按钮 (红边框) --- */
.btn-mini.outline-red {
  background: #fff;
  border: 1rpx solid #FF3B30;
  color: #FF3B30;
  margin-right: auto; /* 【关键】让它靠左，和其他按钮分开 */
}

/* --- 改价样式提示 --- */
.editable-price {
  border-bottom: 2rpx dashed #0071E3; /* 蓝色虚线 */
  color: #0071E3 !important;          /* 变成蓝色 */
  position: relative;
}
/* 给个小铅笔图标提示（可选） */
.editable-price::after {
  content: '✎';
  font-size: 20rpx;
  vertical-align: super;
  margin-left: 4rpx;
}

.footer-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20rpx; }
.total-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20rpx; }
.order-time { font-size: 22rpx; color: #bbb; }
.time { font-size: 22rpx; color: #ccc; }
.total { font-size: 24rpx; }
.total-val { font-size: 24rpx; }
.total-val .big { font-size: 36rpx; font-weight: 800; color: #000; }
.price-big { font-size: 40rpx; font-weight: 800; }

/* 按钮 */
.btn-ship-action {
  margin-top: 30rpx; background: #000; color: #fff; text-align: center;
  padding: 24rpx; border-radius: 50rpx; font-size: 28rpx; font-weight: 600;
}
.wait-tip, .status-tip, .done-tip { 
  font-size: 24rpx; color: #999; 
  margin-top: 20rpx; text-align: center;
}
.action-row {
  margin-top: 20rpx;
}

.refund-btn {
  margin-top: 40rpx; padding: 24rpx 0; border: 1px solid #FF3B30; color: #FF3B30;
  border-radius: 100rpx; text-align: center; font-size: 26rpx; font-weight: 600; width: 100%; display: block;
}

.shipping-box { margin-top: 20rpx; padding: 20rpx; background: #f9f9f9; border-radius: 15rpx; }
.eta { font-size: 24rpx; font-weight: bold; display: block; margin-bottom: 5rpx; }
.logistics-text { font-size: 22rpx; color: #8E8E93; }

.logistics-detail-link {
  margin-top: auto; padding-top: 30rpx; border-top: 1px solid #F2F2F2;
  display: flex; justify-content: space-between; font-size: 26rpx; color: #007AFF; font-weight: 600; margin-bottom: 10rpx;
}

/* --- 3. 设备列表 --- */
.device-card { background: #fff; margin: 0 40rpx 30rpx; padding: 40rpx; border-radius: 40rpx; border: 1px solid #E5E5E5; position: relative; }
.remove-icon { position: absolute; right: 40rpx; top: 40rpx; font-size: 32rpx; color: #CCC; font-weight: 200; }
.device-name { font-size: 36rpx; font-weight: 600; margin-bottom: 40rpx; }

.spec-list { width: 100%; }
.spec-row { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 16rpx; }
.spec-row .label { font-size: 22rpx; color: #8E8E93; }
.spec-row .value { font-size: 26rpx; font-weight: 500; }
.mono { font-family: monospace; color: #555; }

.warranty-val { display: flex; align-items: center; }
.days-num { font-size: 36rpx; font-weight: 700; color: #34C759; margin-right: 10rpx; }
.days-num.warning { color: #FF9500; }
.ext-tag { font-size: 18rpx; padding: 4rpx 10rpx; background: #FFF9E6; color: #AF9567; border: 1px solid #F0E6CC; border-radius: 6rpx; }

.device-card.add-mode {
  display: flex; justify-content: center; align-items: center; min-height: 200rpx;
  background: #FAFAFA; border: 2px dashed #D1D1D1; box-shadow: none;
}
.device-card.add-mode:active { background: #F0F0F0; border-color: #BBB; }
.add-content { display: flex; flex-direction: column; align-items: center; color: #999; }
.big-plus { font-size: 60rpx; font-weight: 300; margin-bottom: 10rpx; line-height: 1; }
.add-tips { font-size: 26rpx; font-weight: 600; letter-spacing: 1rpx; }

/* --- 5. 底部独立按钮 --- */
.footer-bar {
  background: transparent; margin-top: 60rpx; display: flex;
  padding: 20rpx 40rpx calc(40rpx + env(safe-area-inset-bottom)); gap: 20rpx;
}
.f-btn { 
  flex: 1; height: 100rpx; background: #fff; border: 1px solid #E5E5E5;
  border-radius: 20rpx; display: flex; align-items: center; justify-content: center;
  font-size: 28rpx; font-weight: 600; color: #1D1D1F;
}
.f-btn.dark { background: #000; color: #fff; border: 1px solid #000; }

/* --- 6. 模态窗 --- */
.modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); visibility: hidden; opacity: 0; transition: 0.3s; z-index: 1000; }
.modal.show { visibility: visible; opacity: 1; }

.modal-content { 
  position: absolute; bottom: 0; width: 100%; background: #fff; border-radius: 40rpx 40rpx 0 0;
  max-height: 85vh; display: flex; flex-direction: column;
  transform: translateY(100%); transition: 0.3s;
  padding-bottom: calc(20rpx + env(safe-area-inset-bottom));
}
.modal.show .modal-content { transform: translateY(0); }

.modal-header { padding: 40rpx 40rpx 20rpx; display: flex; justify-content: space-between; font-size: 34rpx; font-weight: 700; flex-shrink: 0; }
.close-modal { font-size: 36rpx; color: #999; padding: 10rpx; line-height: 1; }

.modal-scroll-area { flex: 1; padding: 0 40rpx; box-sizing: border-box; overflow-y: auto; }

.type-tabs { display: flex; background: #F2F2F7; padding: 8rpx; border-radius: 20rpx; margin-bottom: 40rpx; }
.tab-item { flex: 1; text-align: center; font-size: 26rpx; color: #8E8E93; padding: 16rpx 0; border-radius: 16rpx; transition: 0.2s; font-weight: 600; }
.tab-item.active { background: #fff; color: #000; box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05); }

/* 蓝牙按钮基础样式 */
.bt-btn { 
  width: 100%; padding: 30rpx; border: 1px solid #007AFF; color: #007AFF; 
  border-radius: 24rpx; text-align: center; margin-bottom: 40rpx; font-weight: 600; 
  background: #fff; box-sizing: border-box;
  position: relative; overflow: hidden; /* 关键：限制波纹溢出 */
  transition: all 0.3s;
}

/* 连接成功状态 */
.bt-btn.ready { 
  background: #34C759; border-color: #34C759; color: #fff; 
}

/* === 修复后的柔和波纹动画 === */
.scan-radar {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none;
  overflow: visible; /* 允许波纹扩散出去 */
}

.ripple {
  position: absolute;
  width: 100rpx; height: 100rpx; /* 初始小圆 */
  background: rgba(0, 122, 255, 0.6); /* 蓝色半透明 */
  border-radius: 50%;
  opacity: 0;
  animation: rippleSmooth 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* 错开动画时间 */
.r1 { animation-delay: 0s; }
.r2 { animation-delay: 0.6s; }
.r3 { animation-delay: 1.2s; }

@keyframes rippleSmooth {
  0% {
    transform: scale(0.1);
    opacity: 0;
  }
  5% {
    opacity: 0.5; /* 出现 */
  }
  100% {
    transform: scale(4); /* 放大4倍 */
    opacity: 0; /* 慢慢消失 */
  }
}

.form-item { margin-bottom: 30rpx; }
.form-label { font-size: 22rpx; font-weight: 700; color: #8E8E93; margin-bottom: 20rpx; display: block; }
.picker-val { background: #fff; padding: 24rpx; border-radius: 16rpx; border: 1px solid #E5E5E5; font-size: 28rpx; }

.upload-group { display: flex; gap: 20rpx; }
.upload-box { 
  flex: 1; height: 180rpx; background: #F9F9F9; border: 1px dashed #D1D1D1; 
  border-radius: 20rpx; display: flex; flex-direction: column; align-items: center; 
  justify-content: center; font-size: 22rpx; color: #999; 
  position: relative;
  overflow: hidden;
}
.plus-icon { font-size: 40rpx; margin-bottom: 10rpx; color: #CCC; }
.uploaded-img { width: 100%; height: 100%; border-radius: 20rpx; }

.modal-footer { padding: 20rpx 40rpx 0; flex-shrink: 0; }
.submit-btn { width: 100%; padding: 28rpx; background: #000; color: #fff; border-radius: 100rpx; font-size: 30rpx; font-weight: 600; }